# =============================================================================
# TELEGRAFO - Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your values
# IMPORTANT: Never commit .env.local or .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED CONFIGURATION
# These must be set for the application to work
# -----------------------------------------------------------------------------

# Database (PostgreSQL)
DATABASE_URL="postgresql://user:password@localhost:5432/telegrafo"

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION (Required in Production)
# In development, these can be omitted but the app will show warnings
# -----------------------------------------------------------------------------

# API Authentication Keys (min 16 characters, must start with 'sk_')
# Generate with: openssl rand -hex 32 | sed 's/^/sk_/'
ADMIN_API_KEY="sk_your-admin-api-key-here-min-16-chars"
API_KEY="sk_your-api-key-here-min-16-chars"

# Webhook Secret (min 16 characters)
# Generate with: openssl rand -hex 16
WEBHOOK_SECRET="your-webhook-secret-min-16-chars"

# Config Endpoint Password (min 8 characters)
# Used for /api/config endpoint authentication
CONFIG_PASSWORD="your-config-password-min-8-chars"

# Admin Login Credentials
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="your-secure-admin-password"

# JWT Configuration (Required for token-based auth)
# Generate with: openssl rand -hex 32
JWT_SECRET="your-jwt-secret-min-32-characters-long"
JWT_ISSUER="telegrafo"
JWT_AUDIENCE="telegrafo-api"

# Redis (Optional but recommended for production)
# Used for distributed caching and rate limiting
REDIS_URL="redis://localhost:6379"

# -----------------------------------------------------------------------------
# EVOLUTION API (WhatsApp via Baileys)
# Required for WhatsApp group messaging
# -----------------------------------------------------------------------------

EVOLUTION_API_URL="https://your-evolution-api.com"
EVOLUTION_API_KEY="your-evolution-api-key"
EVOLUTION_INSTANCE_NAME="your-instance-name"

# -----------------------------------------------------------------------------
# TWILIO (Official WhatsApp Business API)
# Required for official WhatsApp messaging to contacts
# -----------------------------------------------------------------------------

TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_WHATSAPP_NUMBER="whatsapp:+14155238886"

# -----------------------------------------------------------------------------
# WHATSAPP BUSINESS CLOUD API (Meta)
# Alternative to Twilio for WhatsApp Business
# -----------------------------------------------------------------------------

WHATSAPP_BUSINESS_PHONE_ID="your-phone-id"
WHATSAPP_BUSINESS_TOKEN="your-access-token"

# -----------------------------------------------------------------------------
# WHATSAPP HYBRID API
# Custom WhatsApp API integration
# -----------------------------------------------------------------------------

WHATSAPP_API_URL="https://your-whatsapp-api.com"
WHATSAPP_API_KEY="your-whatsapp-api-key"

# -----------------------------------------------------------------------------
# CLOUDINARY (Media Storage)
# Required for image/video/document uploads
# -----------------------------------------------------------------------------

CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------

# App URL (used for generating absolute URLs)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Environment (development, production, test)
NODE_ENV="development"

# Logging Level (debug, info, warn, error)
LOG_LEVEL="debug"

# -----------------------------------------------------------------------------
# RATE LIMITING
# Customize rate limits for API and messaging
# -----------------------------------------------------------------------------

# API rate limit per minute
RATE_LIMIT_PER_MINUTE="120"

# Message rate limits
MAX_MESSAGES_PER_MINUTE="30"
MAX_MESSAGES_PER_HOUR="500"
MAX_MESSAGES_PER_DAY="2000"

# Delay between messages (milliseconds)
MESSAGE_DELAY_MS="2000"
